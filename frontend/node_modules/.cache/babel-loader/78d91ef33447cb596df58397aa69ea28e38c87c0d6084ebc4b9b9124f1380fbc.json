{"ast":null,"code":"var _jsxFileName = \"/app/frontend/src/components/ChatInterface.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { ArrowLeft, Send, MoreVertical, Phone, Video } from 'lucide-react';\nimport toast from 'react-hot-toast';\nimport { v4 as uuidv4 } from 'uuid';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatInterface = ({\n  user,\n  session,\n  onBackToSelection\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    sessionId\n  } = useParams();\n  const [messages, setMessages] = useState([]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const [socket, setSocket] = useState(null);\n  const [isConnected, setIsConnected] = useState(false);\n  const messagesEndRef = useRef(null);\n  const inputRef = useRef(null);\n  useEffect(() => {\n    connectWebSocket();\n    loadChatHistory();\n    return () => {\n      if (socket) {\n        socket.close();\n      }\n    };\n  }, []);\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  const connectWebSocket = () => {\n    try {\n      const wsUrl = (process.env.REACT_APP_BACKEND_URL || 'http://localhost:8001').replace('http', 'ws');\n      const ws = new WebSocket(`${wsUrl}/ws/${sessionId}/${user.user_id}`);\n      ws.onopen = () => {\n        console.log('WebSocket connected');\n        setIsConnected(true);\n        setSocket(ws);\n      };\n      ws.onmessage = event => {\n        const data = JSON.parse(event.data);\n        if (data.type === 'message') {\n          setIsTyping(false);\n          setMessages(prev => [...prev, {\n            id: uuidv4(),\n            type: 'bot',\n            content: data.content,\n            timestamp: new Date(data.timestamp),\n            sender: data.bot_name\n          }]);\n        } else if (data.type === 'moderation_warning') {\n          toast.error(data.message);\n        }\n      };\n      ws.onclose = () => {\n        console.log('WebSocket disconnected');\n        setIsConnected(false);\n        setSocket(null);\n      };\n      ws.onerror = error => {\n        console.error('WebSocket error:', error);\n        toast.error('Connection error. Please refresh the page.');\n      };\n    } catch (error) {\n      console.error('Failed to connect WebSocket:', error);\n      toast.error('Failed to connect to chat');\n    }\n  };\n  const loadChatHistory = async () => {\n    try {\n      const backendUrl = process.env.REACT_APP_BACKEND_URL || 'http://localhost:8001';\n      const response = await fetch(`${backendUrl}/api/chat/messages/${sessionId}`);\n      if (response.ok) {\n        const data = await response.json();\n        const formattedMessages = [];\n        data.messages.forEach(msg => {\n          // Add user message\n          formattedMessages.push({\n            id: uuidv4(),\n            type: 'user',\n            content: msg.user_message,\n            timestamp: new Date(msg.timestamp),\n            sender: user.username\n          });\n\n          // Add bot response\n          formattedMessages.push({\n            id: uuidv4(),\n            type: 'bot',\n            content: msg.bot_response,\n            timestamp: new Date(msg.timestamp),\n            sender: session.bot_profile.name\n          });\n        });\n        setMessages(formattedMessages);\n      }\n    } catch (error) {\n      console.error('Error loading chat history:', error);\n    }\n  };\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  const sendMessage = () => {\n    if (!inputMessage.trim() || !socket || !isConnected) return;\n    const messageId = uuidv4();\n    const newMessage = {\n      id: messageId,\n      type: 'user',\n      content: inputMessage.trim(),\n      timestamp: new Date(),\n      sender: user.username\n    };\n\n    // Add user message to UI immediately\n    setMessages(prev => [...prev, newMessage]);\n\n    // Send message via WebSocket\n    socket.send(JSON.stringify({\n      content: inputMessage.trim(),\n      session_id: sessionId\n    }));\n\n    // Show typing indicator\n    setIsTyping(true);\n\n    // Clear input\n    setInputMessage('');\n\n    // Hide typing indicator after 5 seconds if no response\n    setTimeout(() => setIsTyping(false), 5000);\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      sendMessage();\n    }\n  };\n  const formatTime = timestamp => {\n    return new Date(timestamp).toLocaleTimeString([], {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  const TypingIndicator = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center space-x-2 p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: `data:image/jpeg;base64,${session.bot_profile.profile_picture}`,\n      alt: session.bot_profile.name,\n      className: \"w-8 h-8 rounded-full\",\n      onError: e => {\n        e.target.src = `https://ui-avatars.com/api/?name=${encodeURIComponent(session.bot_profile.name)}&size=32&background=667eea&color=white`;\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-2xl px-4 py-3 shadow-sm border border-gray-200\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"typing-indicator\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"typing-dot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"typing-dot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"typing-dot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 164,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-container bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            onBackToSelection();\n            navigate('/select-bot');\n          },\n          className: \"p-1 hover:bg-white/10 rounded-full transition-colors\",\n          children: /*#__PURE__*/_jsxDEV(ArrowLeft, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: `data:image/jpeg;base64,${session.bot_profile.profile_picture}`,\n          alt: session.bot_profile.name,\n          className: \"w-10 h-10 rounded-full border-2 border-white/20\",\n          onError: e => {\n            e.target.src = `https://ui-avatars.com/api/?name=${encodeURIComponent(session.bot_profile.name)}&size=40&background=white&color=667eea`;\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"font-semibold text-lg\",\n            children: session.bot_profile.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2 text-sm text-white/80\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-2 h-2 rounded-full ${isConnected ? 'bg-green-400' : 'bg-red-400'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: isConnected ? 'Online' : 'Reconnecting...'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"p-2 hover:bg-white/10 rounded-full transition-colors\",\n          children: /*#__PURE__*/_jsxDEV(Phone, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"p-2 hover:bg-white/10 rounded-full transition-colors\",\n          children: /*#__PURE__*/_jsxDEV(Video, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"p-2 hover:bg-white/10 rounded-full transition-colors\",\n          children: /*#__PURE__*/_jsxDEV(MoreVertical, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-messages\",\n      children: [messages.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-2xl\",\n            children: \"\\uD83D\\uDC4B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-2\",\n          children: [\"Start chatting with \", session.bot_profile.name, \"!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500\",\n          children: session.welcome_message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 11\n      }, this), messages.map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `flex ${message.type === 'user' ? 'justify-end' : 'justify-start'} mb-4`,\n        children: [message.type === 'bot' && /*#__PURE__*/_jsxDEV(\"img\", {\n          src: `data:image/jpeg;base64,${session.bot_profile.profile_picture}`,\n          alt: session.bot_profile.name,\n          className: \"w-8 h-8 rounded-full mr-2 mt-1\",\n          onError: e => {\n            e.target.src = `https://ui-avatars.com/api/?name=${encodeURIComponent(session.bot_profile.name)}&size=32&background=667eea&color=white`;\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `message-bubble ${message.type === 'user' ? 'message-user chat-bubble-user' : 'message-bot chat-bubble-bot'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm leading-relaxed\",\n            children: message.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `message-timestamp ${message.type === 'user' ? 'text-white/70' : 'text-gray-500'}`,\n            children: formatTime(message.timestamp)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 13\n        }, this)]\n      }, message.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 11\n      }, this)), isTyping && /*#__PURE__*/_jsxDEV(TypingIndicator, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 22\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-input-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        ref: inputRef,\n        value: inputMessage,\n        onChange: e => setInputMessage(e.target.value),\n        onKeyPress: handleKeyPress,\n        placeholder: `Message ${session.bot_profile.name}...`,\n        className: \"chat-input\",\n        rows: \"1\",\n        disabled: !isConnected,\n        style: {\n          minHeight: '44px',\n          maxHeight: '120px',\n          height: 'auto',\n          resize: 'none'\n        },\n        onInput: e => {\n          e.target.style.height = 'auto';\n          e.target.style.height = Math.min(e.target.scrollHeight, 120) + 'px';\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: sendMessage,\n        disabled: !inputMessage.trim() || !isConnected,\n        className: \"send-button\",\n        children: /*#__PURE__*/_jsxDEV(Send, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 184,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatInterface, \"NZYli0OlVWM+Iv8zp9V3olJtYjw=\", false, function () {\n  return [useNavigate, useParams];\n});\n_c = ChatInterface;\nexport default ChatInterface;\nvar _c;\n$RefreshReg$(_c, \"ChatInterface\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","useParams","ArrowLeft","Send","MoreVertical","Phone","Video","toast","v4","uuidv4","jsxDEV","_jsxDEV","ChatInterface","user","session","onBackToSelection","_s","navigate","sessionId","messages","setMessages","inputMessage","setInputMessage","isTyping","setIsTyping","socket","setSocket","isConnected","setIsConnected","messagesEndRef","inputRef","connectWebSocket","loadChatHistory","close","scrollToBottom","wsUrl","process","env","REACT_APP_BACKEND_URL","replace","ws","WebSocket","user_id","onopen","console","log","onmessage","event","data","JSON","parse","type","prev","id","content","timestamp","Date","sender","bot_name","error","message","onclose","onerror","backendUrl","response","fetch","ok","json","formattedMessages","forEach","msg","push","user_message","username","bot_response","bot_profile","name","_messagesEndRef$curre","current","scrollIntoView","behavior","sendMessage","trim","messageId","newMessage","send","stringify","session_id","setTimeout","handleKeyPress","e","key","shiftKey","preventDefault","formatTime","toLocaleTimeString","hour","minute","TypingIndicator","className","children","src","profile_picture","alt","onError","target","encodeURIComponent","fileName","_jsxFileName","lineNumber","columnNumber","onClick","size","length","welcome_message","map","ref","value","onChange","onKeyPress","placeholder","rows","disabled","style","minHeight","maxHeight","height","resize","onInput","Math","min","scrollHeight","_c","$RefreshReg$"],"sources":["/app/frontend/src/components/ChatInterface.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { ArrowLeft, Send, MoreVertical, Phone, Video } from 'lucide-react';\nimport toast from 'react-hot-toast';\nimport { v4 as uuidv4 } from 'uuid';\n\nconst ChatInterface = ({ user, session, onBackToSelection }) => {\n  const navigate = useNavigate();\n  const { sessionId } = useParams();\n  const [messages, setMessages] = useState([]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const [socket, setSocket] = useState(null);\n  const [isConnected, setIsConnected] = useState(false);\n  const messagesEndRef = useRef(null);\n  const inputRef = useRef(null);\n\n  useEffect(() => {\n    connectWebSocket();\n    loadChatHistory();\n    \n    return () => {\n      if (socket) {\n        socket.close();\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const connectWebSocket = () => {\n    try {\n      const wsUrl = (process.env.REACT_APP_BACKEND_URL || 'http://localhost:8001').replace('http', 'ws');\n      const ws = new WebSocket(`${wsUrl}/ws/${sessionId}/${user.user_id}`);\n      \n      ws.onopen = () => {\n        console.log('WebSocket connected');\n        setIsConnected(true);\n        setSocket(ws);\n      };\n      \n      ws.onmessage = (event) => {\n        const data = JSON.parse(event.data);\n        \n        if (data.type === 'message') {\n          setIsTyping(false);\n          setMessages(prev => [...prev, {\n            id: uuidv4(),\n            type: 'bot',\n            content: data.content,\n            timestamp: new Date(data.timestamp),\n            sender: data.bot_name\n          }]);\n        } else if (data.type === 'moderation_warning') {\n          toast.error(data.message);\n        }\n      };\n      \n      ws.onclose = () => {\n        console.log('WebSocket disconnected');\n        setIsConnected(false);\n        setSocket(null);\n      };\n      \n      ws.onerror = (error) => {\n        console.error('WebSocket error:', error);\n        toast.error('Connection error. Please refresh the page.');\n      };\n      \n    } catch (error) {\n      console.error('Failed to connect WebSocket:', error);\n      toast.error('Failed to connect to chat');\n    }\n  };\n\n  const loadChatHistory = async () => {\n    try {\n      const backendUrl = process.env.REACT_APP_BACKEND_URL || 'http://localhost:8001';\n      const response = await fetch(`${backendUrl}/api/chat/messages/${sessionId}`);\n      \n      if (response.ok) {\n        const data = await response.json();\n        const formattedMessages = [];\n        \n        data.messages.forEach(msg => {\n          // Add user message\n          formattedMessages.push({\n            id: uuidv4(),\n            type: 'user',\n            content: msg.user_message,\n            timestamp: new Date(msg.timestamp),\n            sender: user.username\n          });\n          \n          // Add bot response\n          formattedMessages.push({\n            id: uuidv4(),\n            type: 'bot',\n            content: msg.bot_response,\n            timestamp: new Date(msg.timestamp),\n            sender: session.bot_profile.name\n          });\n        });\n        \n        setMessages(formattedMessages);\n      }\n    } catch (error) {\n      console.error('Error loading chat history:', error);\n    }\n  };\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  const sendMessage = () => {\n    if (!inputMessage.trim() || !socket || !isConnected) return;\n\n    const messageId = uuidv4();\n    const newMessage = {\n      id: messageId,\n      type: 'user',\n      content: inputMessage.trim(),\n      timestamp: new Date(),\n      sender: user.username\n    };\n\n    // Add user message to UI immediately\n    setMessages(prev => [...prev, newMessage]);\n\n    // Send message via WebSocket\n    socket.send(JSON.stringify({\n      content: inputMessage.trim(),\n      session_id: sessionId\n    }));\n\n    // Show typing indicator\n    setIsTyping(true);\n\n    // Clear input\n    setInputMessage('');\n    \n    // Hide typing indicator after 5 seconds if no response\n    setTimeout(() => setIsTyping(false), 5000);\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      sendMessage();\n    }\n  };\n\n  const formatTime = (timestamp) => {\n    return new Date(timestamp).toLocaleTimeString([], { \n      hour: '2-digit', \n      minute: '2-digit' \n    });\n  };\n\n  const TypingIndicator = () => (\n    <div className=\"flex items-center space-x-2 p-4\">\n      <img\n        src={`data:image/jpeg;base64,${session.bot_profile.profile_picture}`}\n        alt={session.bot_profile.name}\n        className=\"w-8 h-8 rounded-full\"\n        onError={(e) => {\n          e.target.src = `https://ui-avatars.com/api/?name=${encodeURIComponent(session.bot_profile.name)}&size=32&background=667eea&color=white`;\n        }}\n      />\n      <div className=\"bg-white rounded-2xl px-4 py-3 shadow-sm border border-gray-200\">\n        <div className=\"typing-indicator\">\n          <div className=\"typing-dot\"></div>\n          <div className=\"typing-dot\"></div>\n          <div className=\"typing-dot\"></div>\n        </div>\n      </div>\n    </div>\n  );\n\n  return (\n    <div className=\"chat-container bg-gray-50\">\n      {/* Header */}\n      <div className=\"chat-header\">\n        <div className=\"flex items-center space-x-3\">\n          <button \n            onClick={() => {\n              onBackToSelection();\n              navigate('/select-bot');\n            }}\n            className=\"p-1 hover:bg-white/10 rounded-full transition-colors\"\n          >\n            <ArrowLeft size={24} />\n          </button>\n          \n          <img\n            src={`data:image/jpeg;base64,${session.bot_profile.profile_picture}`}\n            alt={session.bot_profile.name}\n            className=\"w-10 h-10 rounded-full border-2 border-white/20\"\n            onError={(e) => {\n              e.target.src = `https://ui-avatars.com/api/?name=${encodeURIComponent(session.bot_profile.name)}&size=40&background=white&color=667eea`;\n            }}\n          />\n          \n          <div className=\"flex-1\">\n            <h2 className=\"font-semibold text-lg\">{session.bot_profile.name}</h2>\n            <div className=\"flex items-center space-x-2 text-sm text-white/80\">\n              <div className={`w-2 h-2 rounded-full ${isConnected ? 'bg-green-400' : 'bg-red-400'}`}></div>\n              <span>{isConnected ? 'Online' : 'Reconnecting...'}</span>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"flex items-center space-x-2\">\n          <button className=\"p-2 hover:bg-white/10 rounded-full transition-colors\">\n            <Phone size={20} />\n          </button>\n          <button className=\"p-2 hover:bg-white/10 rounded-full transition-colors\">\n            <Video size={20} />\n          </button>\n          <button className=\"p-2 hover:bg-white/10 rounded-full transition-colors\">\n            <MoreVertical size={20} />\n          </button>\n        </div>\n      </div>\n\n      {/* Messages */}\n      <div className=\"chat-messages\">\n        {messages.length === 0 && (\n          <div className=\"text-center py-8\">\n            <div className=\"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4\">\n              <span className=\"text-2xl\">ðŸ‘‹</span>\n            </div>\n            <p className=\"text-gray-600 mb-2\">Start chatting with {session.bot_profile.name}!</p>\n            <p className=\"text-sm text-gray-500\">{session.welcome_message}</p>\n          </div>\n        )}\n        \n        {messages.map((message) => (\n          <div\n            key={message.id}\n            className={`flex ${message.type === 'user' ? 'justify-end' : 'justify-start'} mb-4`}\n          >\n            {message.type === 'bot' && (\n              <img\n                src={`data:image/jpeg;base64,${session.bot_profile.profile_picture}`}\n                alt={session.bot_profile.name}\n                className=\"w-8 h-8 rounded-full mr-2 mt-1\"\n                onError={(e) => {\n                  e.target.src = `https://ui-avatars.com/api/?name=${encodeURIComponent(session.bot_profile.name)}&size=32&background=667eea&color=white`;\n                }}\n              />\n            )}\n            \n            <div className={`message-bubble ${message.type === 'user' ? 'message-user chat-bubble-user' : 'message-bot chat-bubble-bot'}`}>\n              <p className=\"text-sm leading-relaxed\">{message.content}</p>\n              <div className={`message-timestamp ${message.type === 'user' ? 'text-white/70' : 'text-gray-500'}`}>\n                {formatTime(message.timestamp)}\n              </div>\n            </div>\n          </div>\n        ))}\n        \n        {isTyping && <TypingIndicator />}\n        <div ref={messagesEndRef} />\n      </div>\n\n      {/* Input */}\n      <div className=\"chat-input-container\">\n        <textarea\n          ref={inputRef}\n          value={inputMessage}\n          onChange={(e) => setInputMessage(e.target.value)}\n          onKeyPress={handleKeyPress}\n          placeholder={`Message ${session.bot_profile.name}...`}\n          className=\"chat-input\"\n          rows=\"1\"\n          disabled={!isConnected}\n          style={{\n            minHeight: '44px',\n            maxHeight: '120px',\n            height: 'auto',\n            resize: 'none'\n          }}\n          onInput={(e) => {\n            e.target.style.height = 'auto';\n            e.target.style.height = Math.min(e.target.scrollHeight, 120) + 'px';\n          }}\n        />\n        \n        <button\n          onClick={sendMessage}\n          disabled={!inputMessage.trim() || !isConnected}\n          className=\"send-button\"\n        >\n          <Send size={20} />\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default ChatInterface;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}